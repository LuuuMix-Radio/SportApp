<section data-ng-controller="SportEvtsController" data-ng-init="getCourtsMyGroupsUsersSportTypes(3)">
    <div ng-include="'sportEvts/views/main-sportEvts.client.view.html'"></div>
        <form data-ng-submit="create()" class="pure-form pure-form-stacked">
            <fieldset>
                <!-- <legend>Create New Event</legend>-->

                <div class="pure-g"  ng-if="windWidth >= 800">
                    <div class="pure-u-1 pure-u-md-1-4">
                        <label for="sportType">Sport*</label>
                        <select name="sportType" id="sportType" class="pure-u-20-24" required>
                            <option ng-repeat="item in sportTypeList" value="{{item._id}}">{{item.title}}</option>
                        </select>
                    </div>

                    <div class="pure-u-1 pure-u-md-1-4">
                        <label for="court">Court*</label>
                        <select name="court" id="court" class="pure-u-20-24" required>
                            <option ng-repeat="item in courtList" value="{{item._id}}">{{item.title}}</option>
                        </select>
                    </div>

                    <div class="pure-u-1 pure-u-md-1-2">
                        <!-- <label class="pure-u-1 pure-u-md-1 header-label">Date & Time:</label>-->
                        <div class="pure-u-2-5 pure-u-md-2-5">
                            <label for="dateEvt">Date*</label>
                            <input type="date" ng-model="dateEvt" id="dateEvt" placeholder="date" class="pure-u-23-24" min="{{minDate | date:'yyyy-MM-dd'}}" required>
                        </div>

                        <div class="pure-u-1-4 pure-u-md-1-4">
                            <label for="startTimeAsString">Start Time*</label>
                            <input type="time" ng-model="startTimeAsString" id="startTimeAsString" placeholder="Start Time" class="pure-u-23-24" required>
                        </div>
                        <div class="pure-u-1-4 pure-u-md-1-4">
                            <label for="duration">Duration (Hours)</label>
                            <input type="number" ng-model="duration" id="duration" class="pure-u-16-24" min="0">
                        </div>
                    </div>
                    <label class="pure-u-1 pure-u-md-1-2 header-label">Number Of Members: </label>
                    <label class="pure-u-1 pure-u-md-1-4 header-label">Age: </label>
                    <label class="pure-u-1-4 pure-u-md-1-4 header-label">Gender: </label>
                    <div class="pure-u-1-4 pure-u-md-1-6">
                        <label for="minNumOfMembers">Minimum</label>
                        <input type="number" ng-model="minNumOfMembers" id="minNumOfMembers" class="pure-u-18-24" min="1">
                    </div>

                    <div class="pure-u-1-4 pure-u-md-1-6">
                        <label for="maxNumOfMembers">Maximum</label>
                        <input type="number" ng-model="maxNumOfMembers" id="maxNumOfMembers" class="pure-u-18-24" min="{{minNumOfMembers}}">
                    </div>

                    <div class="pure-u-1-4 pure-u-md-1-6">
                        <label for="optNumOfMembers">Optimum</label>
                        <input type="number" ng-model="optNumOfMembers" id="optNumOfMembers" class="pure-u-18-24" min="{{minNumOfMembers}}" max="{{maxNumOfMembers}}">
                    </div>
                    <div class="pure-u-1 pure-u-md-1-4">
                        <div class="pure-u-1-4 pure-u-md-1-3">
                            <label for="minAgeEvent">From</label>
                            <input type="number" ng-model="minAge" id="minAgeEvent" class="pure-u-15-24" min="0">
                        </div>
                        <div class="pure-u-1-4 pure-u-md-1-3">
                            <label for="maxAgeEvent">To</label>
                            <input type="number" ng-model="maxAge" id="maxAgeEvent" class="pure-u-15-24" min="{{minAge}}">
                        </div>
                    </div>
                    <div class="pure-u-1 pure-u-md-1-4">
                        <div class="checkBox-label">
                            <label for="femaleEvent">
                                <input type="checkbox" ng-model="checkboxModel.femaleEvent" id="femaleEvent">
                                Female
                            </label>
                        </div>
                        <div class="checkBox-label">
                            <label for="maleEvent">
                                <input type="checkbox" ng-model="checkboxModel.maleEvent" id="maleEvent">
                                Male
                            </label>
                        </div>
                    </div>
                    <div class="pure-u-1 pure-u-md-1">
                        <div class="checkBox-label">
                            <label for="openForIndividuals">
                                <input type="checkbox" ng-model="openForIndividuals" id="openForIndividuals" placeholder="openForIndividuals">
                                Open For Individuals
                            </label>
                        </div>
                        <div class="checkBox-label">
                            <label for="openForGroups">
                                <input type="checkbox" ng-model="openForGroups" id="openForGroups" placeholder="openForGroups">
                                Open For Groups
                            </label>
                        </div>
                    </div>
                </div>
                <div class="pure-g" ng-if="windWidth < 799">
                    <div class="pure-u-1 pure-u-md-1-4">
                        <label for="sportType">Sport*</label>
                        <select name="sportType" id="sportType" class="pure-u-20-24" required>
                            <option ng-repeat="item in sportTypeList" value="{{item._id}}">{{item.title}}</option>
                        </select>
                    </div>

                    <div class="pure-u-1 pure-u-md-1-4">
                        <label for="court">Court*</label>
                        <select name="court" id="court" class="pure-u-20-24" required>
                            <option ng-repeat="item in courtList" value="{{item._id}}">{{item.title}}</option>
                        </select>
                    </div>

                    <div class="pure-u-1 pure-u-md-1-2">
                        <label class="pure-u-1 pure-u-md-1 header-label">Date & Time:</label>
                        <div class="pure-u-1-2 pure-u-md-2-5">
                            <label for="dateEvt">Date*</label>
                            <input type="date" data-ng-model="dateEvt" id="dateEvt" placeholder="date" class="pure-u-23-24" min="{{minDate | date:'yyyy-MM-dd'}}" required>
                        </div>

                        <div class="pure-u-1-3 pure-u-md-1-4">
                            <label for="startTimeAsString">Start Time*</label>
                            <input type="time" data-ng-model="startTimeAsString" id="startTimeAsString" placeholder="Start Time" class="pure-u-20-24" required>
                        </div>
                        <div class="pure-u-1-2 pure-u-md-1-4">
                            <label for="duration">Duration (Hours)</label>
                            <input type="number" data-ng-model="duration" id="duration" class="pure-u-10-24" min="0">
                        </div>
                    </div>
                    <label class="pure-u-1 pure-u-md-1-2 header-label">Number Of Members: </label>
                    <div class="pure-u-1-3 pure-u-md-1-6">
                        <label for="minNumOfMembers">Minimum</label>
                        <input type="number" data-ng-model="minNumOfMembers" id="minNumOfMembers" class="pure-u-13-24" min="1">
                    </div>

                    <div class="pure-u-1-3 pure-u-md-1-6">
                        <label for="maxNumOfMembers">Maximum</label>
                        <input type="number" data-ng-model="maxNumOfMembers" id="maxNumOfMembers" class="pure-u-13-24" min="{{minNumOfMembers}}">
                    </div>

                    <div class="pure-u-1-3 pure-u-md-1-6">
                        <label for="optNumOfMembers">Optimum</label>
                        <input type="number" data-ng-model="optNumOfMembers" id="optNumOfMembers" class="pure-u-13-24" min="{{minNumOfMembers}}" max="{{maxNumOfMembers}}">
                    </div>
                    <label class="pure-u-1-2 pure-u-md-1-4 header-label">Age: </label>
                    <label class="pure-u-1-2 pure-u-md-1-4 header-label">Gender: </label>
                    <div class="pure-u-1-2 pure-u-md-1-4">
                        <div class="pure-u-2-5 pure-u-md-1-3">
                            <label for="minAgeEvent">From</label>
                            <input type="number" data-ng-model="minAge" id="minAgeEvent" class="pure-u-20-24" min="0">
                        </div>
                        <div class="pure-u-2-5 pure-u-md-1-3">
                            <label for="maxAgeEvent">To</label>
                            <input type="number" data-ng-model="maxAge" id="maxAgeEvent" class="pure-u-20-24" min="{{minAge}}">
                        </div>
                    </div>
                    <div class="pure-u-1-2 pure-u-md-1-4">
                        <div class="checkBox-label">
                            <label for="femaleEvent">
                                <input type="checkbox" ng-model="checkboxModel.femaleEvent" id="femaleEvent" >
                                Female
                            </label>
                        </div>
                        <div class="checkBox-label">
                            <label for="maleEvent">
                                <input type="checkbox" ng-model="checkboxModel.maleEvent" id="maleEvent">
                                Male
                            </label>
                        </div>
                    </div>
                    <div class="pure-u-1 pure-u-md-1">
                        <div class="checkBox-label">
                            <label for="openForIndividuals">
                                <input type="checkbox" data-ng-model="openForIndividuals" id="openForIndividuals" placeholder="openForIndividuals">
                                Open For Individuals
                            </label>
                        </div>
                        <div class="checkBox-label">
                            <label for="openForGroups">
                                <input type="checkbox" data-ng-model="openForGroups" id="openForGroups" placeholder="openForGroups">
                                Open For Groups
                            </label>
                        </div>
                    </div>
                </div>
            </fieldset>
        </form>

    <div class="add-userAndGroups">
        <div class="add-users-side">

            <div class="groups-top">
                <div class="manage-users-title center_align" ng-if="windWidth >= 800">Add Users</div>
                <button type="button" class="center-button admin-button" ng-click="showUsers()" ng-if="windWidth < 700">Add Users</button>
                <input type="text" class="form-control-group" placeholder="Search" ng-model="searchKeywordUsers" ng-if="isShowUsers || windWidth >= 800"/>
                <div class="usersList-to-add" ng-if="usersToAdd.length && usersToAdd.length > 0 && windWidth >= 800">
                    <il data-ng-repeat="user in usersToAdd">
                        <button type="button" ng-bind="user.username" class="user-to-add" ng-click="addUsersList(user)"></button>
                        <i ng-click="addUsersList(user)" style="font: normal normal normal 15px/2 FontAwesome; margin: -3px 0 -3px -15px; cursor: pointer;
                 color: white; background-color: rgb(50, 54, 57); line-height: 25px; vertical-align: middle; padding: 5px;
                  border-left: 1px solid transparent;
                  border-right: 1px solid black;
                  border-bottom: 1px solid black;
                  border-top: 1px solid black;"
                           class="fa fa-times" aria-hidden="true "></i>
                    </il>
                </div>

                <div class="usersList-to-add" ng-if="usersToAdd.length && usersToAdd.length > 0 && windWidth < 700">
                    <il data-ng-repeat="user in usersToAdd">
                        <button type="button" ng-bind="user.username" class="user-to-add" ng-click="addUsersList(user)"></button>
                        <i ng-click="addUsersList(user)" style="font: normal normal normal 10px/2 FontAwesome; margin: 5px 0 5px -15px; cursor: pointer;
                 color: white; background-color: rgb(50, 54, 57); line-height: 15px; vertical-align: middle; padding: 5px;
                 border-bottom-right-radius: 10px;
                 border-top-right-radius: 10px;
                 border-left: 1px solid transparent;
                 border-right: 1px solid black;
                 border-bottom: 1px solid black;
                 border-top: 1px solid black;"
                           class="fa fa-times" aria-hidden="true "></i>
                    </il>
                </div>
            </div>
            <table class="rwd-table-users" ng-if="windWidth >= 800">
                <tr>
                    <th></th>
                    <th>UserName</th>
                    <th>City</th>
                </tr>
                <tr ng-repeat="user in allUsersList | filter: searchKeywordUsers" ng-click="addUsersList(user)" ng-class="{'selected_user': usersToAdd.indexOf(user) != -1 }">
                    <td data-th="Picture" style="text-align: center;">{{user.image}}<i style="font-size:30px; width: 30%; margin: auto" class="fa fa-user-circle" aria-hidden="true"></i></td>
                    <td data-th="Full Name">{{user.fullName}}</td>
                    <td data-th="City">{{user.city}}</td>
                </tr>
            </table>

            <div class="small-table-users" ng-if="isShowUsers && windWidth < 799">
                <div class="user-header" ng-repeat="user in allUsersList | filter: searchKeywordUsers" ng-click="addUsersList(user)" ng-class="{'selected_user': usersToAdd.indexOf(user) != -1 }">
                    <div class="left-side-user">
                        <i style="font-size:30px;"  class="fa fa-user-circle" aria-hidden="true"></i>
                        <!--<span data-ng-bind="group.image"></span>-->
                    </div>
                    <div class="center-side-user">
                        <span class= "name-part" data-ng-bind="user.fullName"></span>
                        <span class= "court-part" data-ng-bind="user.city"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="add-groups-side">
            <div class="groups-top">
                <div class="manage-users-title center_align" ng-if="windWidth >=800">Add Groups</div>
                <button type="button" class="center-button admin-button" ng-click="showGroups()" ng-if="windWidth < 700">Add Groups</button>
                <input type="text" class="form-control-group" placeholder="Search" ng-model="searchKeywordGroups" ng-if="isShowGroups || windWidth >= 800"/>
                <div class="usersList-to-add" ng-if="groupsToAdd.length && groupsToAdd.length > 0 && windWidth >= 800">
                    <il data-ng-repeat="group in groupsToAdd">
                        <button type="button" ng-bind="group.title" class="user-to-add" ng-click="addGroupsList(group)"></button>
                        <i ng-click="addGroupsList(group)" style="font: normal normal normal 15px/2 FontAwesome; margin: -3px 0 -3px -15px; cursor: pointer;
                 color: white; background-color: rgb(50, 54, 57); line-height: 25px; vertical-align: middle; padding: 5px;
                  border-left: 1px solid transparent;
                  border-right: 1px solid black;
                  border-bottom: 1px solid black;
                  border-top: 1px solid black;"
                           class="fa fa-times" aria-hidden="true "></i>
                    </il>
                </div>

                <div class="usersList-to-add" ng-if="groupsToAdd.length && groupsToAdd.length > 0 && windWidth < 700">
                    <il data-ng-repeat="group in groupsToAdd">
                        <button type="button" ng-bind="group.title" class="user-to-add" ng-click="addGroupsList(group)"></button>
                        <i ng-click="addGroupsList(group)" style="font: normal normal normal 10px/2 FontAwesome; margin: 5px 0 5px -15px; cursor: pointer;
                 color: white; background-color: rgb(50, 54, 57); line-height: 15px; vertical-align: middle; padding: 5px;
                 border-bottom-right-radius: 10px;
                 border-top-right-radius: 10px;
                 border-left: 1px solid transparent;
                 border-right: 1px solid black;
                 border-bottom: 1px solid black;
                 border-top: 1px solid black;"
                           class="fa fa-times" aria-hidden="true "></i>
                    </il>
                </div>
            </div>
            <table class="rwd-table-users" ng-if="windWidth >= 800">
                <tr>
                    <th></th>
                    <th>Name</th>
                    <th>Sport</th>
                    <th>Court</th>
                </tr>
                <tr ng-repeat="group in groupList | filter: searchKeywordGroups" ng-click="addGroupsList(group)" ng-class="{'selected_user': groupsToAdd.indexOf(group) != -1 }">
                    <td data-th="Picture" style="text-align: center;">{{group.image}}<i style="font-size:40px; text-align: center; width: 70%; margin: auto" class="fa fa-users" aria-hidden="true"></i></td>
                    <td data-th="Name">{{group.title}}</td>
                    <td data-th="Sport">{{group.theSportType.title}}</td>
                    <td data-th="Court">{{group.defaultCourt.title}}</td>
                </tr>
            </table>

            <div class="small-table-users" ng-if="isShowGroups && windWidth < 799">
                <div class="user-header" ng-repeat="group in groupList | filter: searchKeywordGroups" ng-click="addGroupsList(group)" ng-class="{'selected_user': groupsToAdd.indexOf(group) != -1 }">
                    <div class="left-side-add-group">
                        <i style="font-size:25px; text-align: center; width: 50%; height: 50%; margin: auto; vertical-align: middle; " class="fa fa-users" aria-hidden="true"></i>
                        <!--<span data-ng-bind="group.image"></span>-->
                    </div>
                    <div class="center-side-add-group">
                        <span class= "title-part" data-ng-bind="group.title"></span>
                        <span class= "defaultCourt-part" data-ng-bind="group.defaultCourt.title"></span>
                        <span class= "sport-part" data-ng-bind="group.theSportType.title"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="center-button">
        <button type="submit" class="pure-button pure-button-primary" ng-click="create()" ng-disabled="isSubmited">Create</button>
    </div>





</section>